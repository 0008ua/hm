function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{Gdn9:function(e,t,n){"use strict";var r,i=n("IheW"),a=n("cp0P"),o=n("lJxs"),c=n("8Y7J"),u=((r=function(){function e(t){_classCallCheck(this,e),this.http=t}return _createClass(e,[{key:"getPrefix",value:function(e){var t={headers:new i.g({"Content-Type":"application/json"})};return this.http.get("api/catalog/get-prefix/"+e,t)}}]),e}()).ngInjectableDef=c.Rb({factory:function(){return new r(c.Sb(i.c))},token:r,providedIn:"root"}),r);n.d(t,"a",(function(){return p}));var s,p=((s=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.catalogService=n}return _createClass(e,[{key:"loadProduct",value:function(e){var t={headers:new i.g({"Content-Type":"application/json"})};return this.http.get("api/product/load-product/"+e,t)}},{key:"upsertProduct",value:function(e){var t={headers:new i.g({"Content-Type":"application/json"})};return this.http.post("api/product/upsert-product",e,t)}},{key:"getSkuList",value:function(e){var t={headers:new i.g({"Content-Type":"application/json"})};return this.http.get("api/product/get-sku-list/"+e,t)}},{key:"generateSku",value:function(e){var t=this.catalogService.getPrefix(e),n=this.getSkuList(e);return Object(a.a)(t,n).pipe(Object(o.a)((function(e){for(var t=e[0].prefix,n=e[1].map((function(e){return e._id})).filter((function(e){return e.slice(0,3)===t})).map((function(e){return+e.slice(3)})),r=1,i=0;i<n.length;i++){if(n[i]-(i+1)>=1){r=i+1;break}i===n.length-1&&(r=n.length+1)}for(var a=r.toString();a.length<4;)a="0"+a;return t+a}),(function(e){return e})))}}]),e}()).ngInjectableDef=c.Rb({factory:function(){return new s(c.Sb(i.c),c.Sb(u))},token:s,providedIn:"root"}),s)}}]);